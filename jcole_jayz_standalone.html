<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JAY-Z References in J. Cole Albums (interactive)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 1.5rem; background: #fafafa; }
    h1 { font-size: 1.35rem; margin-bottom: 0.5rem; }
    .subtitle { color: #555; font-size: 0.9rem; margin-bottom: 1.5rem; }
    .chart-wrap { background: #fff; padding: 1.5rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); margin-bottom: 1.5rem; }
    #refTableSection { background: #fff; padding: 1rem 1.5rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); min-height: 120px; }
    #refTableSection.empty { color: #888; font-size: 0.95rem; }
    #refTableSection h3 { margin: 0 0 0.75rem 0; font-size: 1rem; }
    table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
    th, td { text-align: left; padding: 0.4rem 0.6rem; border-bottom: 1px solid #eee; vertical-align: top; }
    th { color: #555; font-weight: 600; }
    .source-line { max-width: 400px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #555; font-size: 0.8rem; cursor: help; }
    .embed-note { margin-top: 1.5rem; padding: 0.75rem; background: #f0f0f0; border-radius: 6px; font-size: 0.8rem; color: #555; }
  </style>
</head>
<body>
  <h1>JAY-Z References in J. Cole Albums</h1>
  <p class="subtitle">Click a bar to lock the table below, or hover to preview. Mouse over source lines to see full text. Data: interpolation references only, from manual CSV.</p>

  <div class="chart-wrap">
    <canvas id="chart" height="380"></canvas>
  </div>

  <div id="refTableSection" class="empty">
    <span id="refTableMessage">Hover over a bar to see references.</span>
    <div id="refTableContainer" style="display: none;">
      <h3 id="refTableTitle"></h3>
      <table id="refTable">
        <thead><tr><th>J. Cole song</th><th>JAY-Z song referenced</th><th>JAY-Z album</th><th>J. Cole line</th></tr></thead>
        <tbody id="refTableBody"></tbody>
      </table>
    </div>
  </div>

  <div class="embed-note">
    <strong>Substack:</strong> Substack doesn’t support arbitrary HTML/iframe embeds. Use the static image in your post and link to this page (host it on GitHub Pages, Netlify, etc.), or try pasting this page’s URL into Substack’s embed block to see if it renders.
  </div>

<script type="application/json" id="inlineChartData">
{"albums": ["Cole World: The Sideline Story", "Miscellaneous / Singles", "Born Sinner", "2014 Forest Hills Drive", "4 Your Eyez Only", "Friday Night Lights", "The Warm Up", "The Come Up Mixtape Vol. 1"], "counts": [6, 5, 4, 3, 3, 2, 2, 1], "by_album": {"Cole World: The Sideline Story": [{"J_Cole_Song": "Dollar and a Dream III", "JAY_Z_Song_Referenced": "Beach Chair", "JAY_Z_Album": "Kingdom Come", "Source_Line": "Play your part, life is but a dream for me", "Referenced_Line": "\"Beach Chair\"", "Reference_Type": "song"}, {"J_Cole_Song": "Dollar and a Dream III", "JAY_Z_Song_Referenced": "Dead Presidents II", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "Ya paper, confetti, small time,", "Referenced_Line": "Your paper falls slow like confetti, mine's a steady grow, perico", "Reference_Type": "annotation"}, {"J_Cole_Song": "In the Morning", "JAY_Z_Song_Referenced": "Can I Get A...", "JAY_Z_Album": "Vol.2... Hard Knock Life", "Source_Line": "And can I hit it in the mornin'?\n Can I hit it in the mornin'?\n And can I hit it in the mornin'?\n The sun risin' while you're moanin'", "Referenced_Line": "Can I hit in the mornin' without givin' you half of my dough?", "Reference_Type": "annotation"}, {"J_Cole_Song": "Work Out", "JAY_Z_Song_Referenced": "Best of Me, Part 2", "JAY_Z_Album": "Miscellaneous / Singles", "Source_Line": "Carolina Blue kicks, fresh on the scene", "Referenced_Line": "Five, four, three, two, one, Carolina blue kicks", "Reference_Type": "annotation"}, {"J_Cole_Song": "God's Gift", "JAY_Z_Song_Referenced": "On To The Next One", "JAY_Z_Album": "The Blueprint 3", "Source_Line": "On to the new, on-on to the new shit", "Referenced_Line": "On To The Next One", "Reference_Type": "song"}, {"J_Cole_Song": "Dollar and A Dream", "JAY_Z_Song_Referenced": "D'Evils", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "The evils", "Referenced_Line": "https://genius.com/Jay-z-devils-lyrics", "Reference_Type": "song"}], "Miscellaneous / Singles": [{"J_Cole_Song": "Black Friday", "JAY_Z_Song_Referenced": "Blueprint2", "JAY_Z_Album": "The Blueprint 2: The Gift & The Curse", "Source_Line": "Let's get the proceedings proceeding this evening", "Referenced_Line": "Let's get to the proceedings preceding this evening", "Reference_Type": "annotation"}, {"J_Cole_Song": "7 Minute Drill", "JAY_Z_Song_Referenced": "Takeover", "JAY_Z_Album": "The Blueprint", "Source_Line": "Four albums in twelve years, nigga, I can divide", "Referenced_Line": "Four albums in ten years, nigga? I could divide", "Reference_Type": "annotation"}, {"J_Cole_Song": "Cheer Up", "JAY_Z_Song_Referenced": "H to the Izzo", "JAY_Z_Album": "Miscellaneous / Singles", "Source_Line": "Raised with rats and roaches", "Referenced_Line": "raised in the projects, roaches and rats", "Reference_Type": "annotation"}, {"J_Cole_Song": "Bronx Zoo Freestyle", "JAY_Z_Song_Referenced": "Can't Knock the Hustle", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "In a Ferrari or Lamb truck switchin' wide lanes", "Referenced_Line": "Screaming through the sunroof, \"Money ain't a thang\"", "Reference_Type": "annotation"}, {"J_Cole_Song": "NBA Playoff Promo", "JAY_Z_Song_Referenced": "Public Service Announcement", "JAY_Z_Album": "The Black Album", "Source_Line": "But to quote the boy Hov, \"Gotta finish your breakfast\"", "Referenced_Line": "\"Public Service Announcement\"", "Reference_Type": "song"}], "Born Sinner": [{"J_Cole_Song": "Forbidden Fruit", "JAY_Z_Song_Referenced": "Heart of the City (Ain't No Love)", "JAY_Z_Album": "The Blueprint", "Source_Line": "What you eat don't make me shit and who you fuck don't make me cum", "Referenced_Line": "\"Heart Of The City\"", "Reference_Type": "song"}, {"J_Cole_Song": "Let Nas Down", "JAY_Z_Song_Referenced": "D.O.A. (Death of Auto-Tune)", "JAY_Z_Album": "The Blueprint 3", "Source_Line": "No I.D. my mentor, now let the story begin", "Referenced_Line": "\"D.O.A. (Death of Auto-Tune)\"", "Reference_Type": "song"}, {"J_Cole_Song": "Miss America", "JAY_Z_Song_Referenced": "Public Service Announcement", "JAY_Z_Album": "The Black Album", "Source_Line": "This is a public service announcement\n Brought to you by the good people over at Dreamville Records", "Referenced_Line": "Fellow Americans, it is with the utmost pride and sincerity that I present this recording as a living testament and recollection of history in the mak", "Reference_Type": "annotation"}, {"J_Cole_Song": "Ain't That Some Shit (Interlude)", "JAY_Z_Song_Referenced": "La-La-La (Excuse Me Miss Again)", "JAY_Z_Album": "Blueprint 2.1", "Source_Line": "It's the Roc bitch, rock and roll", "Referenced_Line": "You can't see me, dog; nigga, ya CB4\n This ain't Chris Rock, bitch -- it's the Roc, bitch", "Reference_Type": "annotation"}], "2014 Forest Hills Drive": [{"J_Cole_Song": "A Tale of 2 Citiez", "JAY_Z_Song_Referenced": "Intro / A Million and One Questions / Rhyme No More", "JAY_Z_Album": "In My Lifetime, Vol. 1", "Source_Line": "They robbin' niggas on the daily\n Can you blame a nigga that ain't never had things?\n (What's the value of a thing?) Guess not\n Last night they pulled", "Referenced_Line": "\"A Million and One Questions/Rhyme No More\"", "Reference_Type": "song"}, {"J_Cole_Song": "January 28th", "JAY_Z_Song_Referenced": "Brooklyn's Finest", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "Carolina's finest, you knew that already\n In terms of the greatest, I proved that already", "Referenced_Line": "\"Brooklyn's Finest\"", "Reference_Type": "song"}, {"J_Cole_Song": "January 28th", "JAY_Z_Song_Referenced": "Change Clothes", "JAY_Z_Album": "The Black Album", "Source_Line": "The real is back, the ville is back\n Flow bananas, here, peel this back\n And what you'll find is, your highness\n Can paint a picture that is vivid eno", "Referenced_Line": "Yeah, ma, your dude is back, the Maybach Coupe is back", "Reference_Type": "annotation"}], "4 Your Eyez Only": [{"J_Cole_Song": "Immortal", "JAY_Z_Song_Referenced": "December 4th", "JAY_Z_Album": "The Black Album", "Source_Line": "To die a young legend or live a long life unfulfilled\n 'Cause you wanna change the world, but while alive you never will\n 'Cause they only feel you af", "Referenced_Line": "They say, \"They never really miss you 'til you dead or you gone\"\n So on that note, I'm leavin' after this song\n So you ain't gotta feel no way about J", "Reference_Type": "annotation"}, {"J_Cole_Song": "Immortal", "JAY_Z_Song_Referenced": "Renegade", "JAY_Z_Album": "The Blueprint", "Source_Line": "Now I was barely seventeen with a pocket full of hope\n Screamin' \"Dollar and a dream\" with my closet lookin' broke\n And my nigga's lookin' clean, gett", "Referenced_Line": "Durag wrappin' my waves up, pockets full of hope", "Reference_Type": "annotation"}, {"J_Cole_Song": "Neighbors", "JAY_Z_Song_Referenced": "My 1st Song", "JAY_Z_Album": "The Black Album", "Source_Line": "Fuck the fame and the fortune\n Well, maybe not the fortune\n But one thing is for sure though\n The fame is exhaustin'", "Referenced_Line": "When you stop, then you gotta bid it good riddance\n Goodbye! This is my second major break-up\n My first was with a pager, with a hoopty, a cook-pot, a", "Reference_Type": "annotation"}], "Friday Night Lights": [{"J_Cole_Song": "Back to the Topic", "JAY_Z_Song_Referenced": "Best of Me, Part 2", "JAY_Z_Album": "Miscellaneous / Singles", "Source_Line": "Carolina blue kicks, pedal to the metal", "Referenced_Line": "Got two choices, y'all: pull over the car or\n Bounce on the devil, put the pedal to the floor", "Reference_Type": "annotation"}, {"J_Cole_Song": "Cost Me a Lot", "JAY_Z_Song_Referenced": "La-La-La (Excuse Me Miss Again)", "JAY_Z_Album": "Blueprint 2.1", "Source_Line": "Look, but don't touch, motherfucker, think twice", "Referenced_Line": "Jay-Z's song \"La-La-La (Excuse Me Miss Again)\"", "Reference_Type": "song"}], "The Warm Up": [{"J_Cole_Song": "Dead Presidents II", "JAY_Z_Song_Referenced": "Dead Presidents", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "Uh, I'm out for presidents to represent me, nigga\n I'm out for presidents to represent me, yeah\n I'm out for dead fuckin' presidents to represent me\n ", "Referenced_Line": "\"Dead Presidents\"", "Reference_Type": "song"}, {"J_Cole_Song": "Can I Live?", "JAY_Z_Song_Referenced": "Can I Live", "JAY_Z_Album": "Reasonable Doubt", "Source_Line": "Like Hov said it, can I live?\n Ayy, dear Lord, can I live?", "Referenced_Line": "\"Can I Live\"", "Reference_Type": "song"}], "The Come Up Mixtape Vol. 1": [{"J_Cole_Song": "Carolina On My Mind", "JAY_Z_Song_Referenced": "The City Is Mine", "JAY_Z_Album": "In My Lifetime, Vol.1", "Source_Line": "The city, it is mine (Yeah), the city, it is mine (Hey)\n At any given time, Carolina on my mind (Yeah)\n Carolina on my mind, Carolina on my mind", "Referenced_Line": "The City is Mine", "Reference_Type": "song"}]}, "album_images": {"Cole World: The Sideline Story": "https://i.scdn.co/image/ab67616d0000b27399da48a530f6ca2ef86da3cc", "Born Sinner": "https://i.scdn.co/image/ab67616d0000b273c1bb124f993488cf21b269fc", "2014 Forest Hills Drive": "https://i.scdn.co/image/ab67616d0000b273c6e0948bbb0681ff29cdbae8", "4 Your Eyez Only": "https://i.scdn.co/image/ab67616d0000b273f4ca75192df162f78a24023e", "Friday Night Lights": "https://i.scdn.co/image/ab67616d0000b2738f36878a74d27b856d0c0117", "The Warm Up": "https://i.scdn.co/image/ab67616d0000b273b8a217bec71155c020c5c3e0", "The Come Up Mixtape Vol. 1": "https://i.scdn.co/image/ab67616d0000b273b235ba293448a0943e3ae2bf"}}
</script>
    <script>
    (function () {
      const dataUrl = 'jcole_jayz_chart_data.json';
      let chartData = null;
      let chart = null;
      let clickedAlbum = null;

      function escapeHtml(s) {
        const div = document.createElement('div');
        div.textContent = s;
        return div.innerHTML;
      }

      function showRefs(album) {
        const section = document.getElementById('refTableSection');
        const message = document.getElementById('refTableMessage');
        const container = document.getElementById('refTableContainer');
        const titleEl = document.getElementById('refTableTitle');
        const tbody = document.getElementById('refTableBody');

        if (!chartData || !album) {
          section.classList.add('empty');
          message.style.display = 'block';
          container.style.display = 'none';
          return;
        }
        const refs = chartData.by_album[album] || [];
        if (refs.length === 0) {
          section.classList.add('empty');
          message.textContent = 'No reference details for this album.';
          message.style.display = 'block';
          container.style.display = 'none';
          return;
        }
        section.classList.remove('empty');
        message.style.display = 'none';
        container.style.display = 'block';
        titleEl.textContent = album + ' — ' + refs.length + ' reference' + (refs.length !== 1 ? 's' : '');
        tbody.innerHTML = refs.map(function (r) {
          const sourceLine = (r.Source_Line || '').replace(/\s+/g, ' ').trim();
          return '<tr><td>' + escapeHtml(r.J_Cole_Song) + '</td><td>' + escapeHtml(r.JAY_Z_Song_Referenced) + '</td><td>' + escapeHtml(r.JAY_Z_Album) + '</td><td class="source-line" title="' + escapeHtml(sourceLine) + '">' + escapeHtml(sourceLine) + '</td></tr>';
        }).join('');
      }

      const loadedImages = {};

      function loadImage(url, callback) {
        if (loadedImages[url]) {
          callback(loadedImages[url]);
          return;
        }
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.onload = function () {
          loadedImages[url] = img;
          callback(img);
        };
        img.onerror = function () { callback(null); };
        img.src = url;
      }

      function preloadImages(albumImages, callback) {
        const urls = Object.values(albumImages).filter(Boolean);
        if (urls.length === 0) {
          callback();
          return;
        }
        let loaded = 0;
        urls.forEach(function (url) {
          loadImage(url, function () {
            loaded++;
            if (loaded === urls.length) callback();
          });
        });
      }

      let currentAlbums = null;
      let currentAlbumImages = null;

      const albumImagePlugin = {
        id: 'albumImages',
        afterDraw: function (chart) {
          if (!currentAlbums || !currentAlbumImages) return;
          const ctx = chart.ctx;
          const meta = chart.getDatasetMeta(0);
          currentAlbums.forEach(function (album, idx) {
            const imageUrl = currentAlbumImages[album];
            if (!imageUrl) return;
            const bar = meta.data[idx];
            if (!bar) return;
            const img = loadedImages[imageUrl];
            if (!img) {
              loadImage(imageUrl, function () { chart.draw(); });
              return;
            }
            const x = bar.x;
            const y = bar.y;
            const imgSize = 50;
            const imgX = x - imgSize / 2;
            const imgY = y - imgSize - 3;
            ctx.save();
            ctx.beginPath();
            ctx.arc(x, imgY + imgSize / 2, imgSize / 2, 0, Math.PI * 2);
            ctx.clip();
            ctx.drawImage(img, imgX, imgY, imgSize, imgSize);
            ctx.restore();
          });
        },
      };

      Chart.register(albumImagePlugin);

      function initChart() {
        const ctx = document.getElementById('chart').getContext('2d');
        const albums = chartData.albums;
        const counts = chartData.counts;
        const albumImages = chartData.album_images || {};
        currentAlbums = albums;
        currentAlbumImages = albumImages;
        function getBarColors() {
          return albums.map(function (a) {
            if (a === clickedAlbum) return a === 'Miscellaneous / Singles' ? '#7f8c8d' : '#27ae60';
            return a === 'Miscellaneous / Singles' ? '#95a5a6' : '#2ecc71';
          });
        }
        function getBorderColors() {
          return albums.map(function (a) {
            if (a === clickedAlbum) return a === 'Miscellaneous / Singles' ? '#5d6d7d' : '#1e8449';
            return a === 'Miscellaneous / Singles' ? '#7f8c8d' : '#27ae60';
          });
        }
        const barColors = getBarColors();
        const borderColors = getBorderColors();

        function createChart() {

          chart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: albums,
            datasets: [{
              label: 'JAY-Z references',
              data: counts,
              backgroundColor: barColors,
              borderColor: borderColors,
              borderWidth: 1.5,
            }],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  afterLabel: function (item) {
                    const album = albums[item.dataIndex];
                    const refs = (chartData.by_album[album] || []).length;
                    return refs + ' reference(s) — see table below';
                  },
                },
              },
            },
            layout: {
              padding: {
                top: 60,
                bottom: 10,
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: { display: true, text: 'Number of JAY-Z references', font: { weight: 'bold' } },
                grid: { color: 'rgba(0,0,0,0.06)' },
                ticks: { stepSize: 1, precision: 0 },
              },
              x: {
                grid: { display: false },
                ticks: { maxRotation: 35, minRotation: 25, font: { size: 11 }, maxTicksLimit: 20 },
              },
            },
            onClick: function (evt, elements) {
              if (elements.length) {
                const clickedIdx = elements[0].index;
                if (clickedAlbum === albums[clickedIdx]) {
                  clickedAlbum = null;
                  showRefs(null);
                } else {
                  clickedAlbum = albums[clickedIdx];
                  showRefs(clickedAlbum);
                }
                chart.data.datasets[0].backgroundColor = getBarColors();
                chart.data.datasets[0].borderColor = getBorderColors();
                chart.update('none');
              } else {
                clickedAlbum = null;
                showRefs(null);
                chart.data.datasets[0].backgroundColor = getBarColors();
                chart.data.datasets[0].borderColor = getBorderColors();
                chart.update('none');
              }
            },
          },
        });

          ctx.canvas.addEventListener('mousemove', function (e) {
            if (clickedAlbum) return;
            const el = chart.getElementsAtEventForMode(e, 'nearest', { intersect: true }, false);
            if (el.length) showRefs(albums[el[0].index]);
            else showRefs(null);
          });
          ctx.canvas.addEventListener('mouseleave', function () {
            if (!clickedAlbum) showRefs(null);
          });
        }

        preloadImages(albumImages, createChart);
      }

      var dataEl = document.getElementById('inlineChartData');
      var loadPromise = dataEl
        ? Promise.resolve(JSON.parse(dataEl.textContent))
        : fetch(dataUrl).then(function (r) { return r.json(); });
      loadPromise
        .then(function (data) {
          chartData = data;
          initChart();
        })
        .catch(function (err) {
          document.getElementById('refTableMessage').textContent = 'Could not load chart data. Use the standalone HTML (generated by the script) or host this file with jcole_jayz_chart_data.json in the same folder.';
        });
    })();
  </script>
</body>
</html>
